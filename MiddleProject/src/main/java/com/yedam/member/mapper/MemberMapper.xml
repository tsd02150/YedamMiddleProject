<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.member.mapper.MemberMapper">
<insert id="insertMember" parameterType="member">
	insert into member(member_no,id,pw,name,adress,phone,grade,rrn,gender,email)
	values(member_seq.nextval,#{id},#{pw},#{name},#{adress},#{phone},#{grade},#{rrn},#{gender},#{email})
</insert>
<update id="updateMember" parameterType="member">
	update member set company_no=
		(select company_no
		from company
		where crn=#{crn}) 
	where id=#{id}
</update>
<select id="loginCheck" resultType="member" parameterType="member">
		select * from member
		where id=#{id} and pw=#{pw}
	</select>
	<select id="memberInfo" resultType="member" parameterType="String">
		select * from member where id = #{id}
	</select>
	<select id="searchId" resultType="String" parameterType="member">
		select id from member where name=#{name} and rrn=#{rrn}
	</select>
	<select id="searchPw" resultType="String" parameterType="member">
		select pw from member where id=#{id} and name=#{name} and rrn=#{rrn}
	</select>
	<update id="updateMemberM" parameterType="member">
		update member
		set pw=#{pw}, phone=#{phone}, adress=#{adress}, email=#{email}
		where id=#{id}
	</update>


</mapper>